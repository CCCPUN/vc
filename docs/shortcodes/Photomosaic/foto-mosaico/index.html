<!doctype html><html lang=en dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Conversión de la imagen a un foto-mosaico por Hardware. #   Volver
 Idea general #  La idea basica se basa de 2 pasos principalmente, un preprocesamiento de las imagenes y la creacion de la imagen.
En el pre procesamiento lo que se hace es crear una nueva imagen larga que contiene todas las imagenes que van a representar los colores.
En el proceso de creacion de imagen se toma el color que le correspondia a cada pixel y se busca la pieza que tiene el color promedio mas cercano al color de ese pixel y posteriormente se dibuja la pieza (imagen) que contiene ese pixel.">
<meta name=theme-color content="#FFFFFF">
<meta name=color-scheme content="light dark"><meta property="og:title" content>
<meta property="og:description" content="Conversión de la imagen a un foto-mosaico por Hardware. #   Volver
 Idea general #  La idea basica se basa de 2 pasos principalmente, un preprocesamiento de las imagenes y la creacion de la imagen.
En el pre procesamiento lo que se hace es crear una nueva imagen larga que contiene todas las imagenes que van a representar los colores.
En el proceso de creacion de imagen se toma el color que le correspondia a cada pixel y se busca la pieza que tiene el color promedio mas cercano al color de ese pixel y posteriormente se dibuja la pieza (imagen) que contiene ese pixel.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://cccpun.github.io/vc/docs/shortcodes/Photomosaic/foto-mosaico/"><meta property="article:section" content="docs">
<meta property="article:modified_time" content="2022-02-06T20:23:02-05:00">
<title>Foto Mosaico | Visual Computing</title>
<link rel=manifest href=/vc/manifest.json>
<link rel=icon href=/vc/favicon.png type=image/x-icon>
<link rel=stylesheet href=/vc/book.min.89a77f7e702a8626749b948bbfb01109823daf6c1246ca407d1378833494c402.css integrity="sha256-iad/fnAqhiZ0m5SLv7ARCYI9r2wSRspAfRN4gzSUxAI=" crossorigin=anonymous>
<script defer src=/vc/flexsearch.min.js></script>
<script defer src=/vc/en.search.min.c32014f729978d41741b7195440a739e446f12f475f4088c56254a7122750112.js integrity="sha256-wyAU9ymXjUF0G3GVRApznkRvEvR19AiMViVKcSJ1ARI=" crossorigin=anonymous></script>
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a class="flex align-center" href=/vc/><span>Visual Computing</span>
</a>
</h2>
<div class=book-search>
<input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/>
<div class="book-search-spinner hidden"></div>
<ul id=book-search-results></ul>
</div>
<ul>
<li class=book-section-flat>
<span>Shortcodes</span>
<ul>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/buttons/>Buttons</a>
</li>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/columns/>Columns</a>
</li>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/details/>Details</a>
</li>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/expand/>Expand</a>
</li>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/hints/>Hints</a>
</li>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/katex/>Katex</a>
</li>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/Members/>Members</a>
<ul>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/Members/jherson/>Jherson</a>
</li>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/Members/manuel/>Manuel</a>
</li>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/Members/nicolas/>Nicolas</a>
</li>
</ul>
</li>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/mermaid/>Mermaid</a>
</li>
<li>
<input type=checkbox id=section-ec67a64aba70b9df3d2a9acd6c92e3bc class=toggle>
<label for=section-ec67a64aba70b9df3d2a9acd6c92e3bc class="flex justify-between">
<a href=https://cccpun.github.io/vc/docs/shortcodes/p5/>P5</a>
</label>
<ul>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/p5/div/>Div</a>
</li>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/p5/iframe/>Iframe</a>
</li>
</ul>
</li>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/Photomosaic/foto-mosaico/ class=active>Foto Mosaico</a>
</li>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/Rendering/>Rendering</a>
<ul>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/Rendering/Binary_space_parition/>Binary Space Parition</a>
</li>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/Rendering/Bresenhams_line_algorithm/>Bresenhams Line Algorithm</a>
</li>
</ul>
</li>
<li>
<a href=https://cccpun.github.io/vc/docs/shortcodes/tabs/>Tabs</a>
</li>
</ul>
</li>
<li>
<input type=checkbox id=section-191d4fa5967ce9fef74cb18feb81d534 class=toggle>
<label for=section-191d4fa5967ce9fef74cb18feb81d534 class="flex justify-between">
<a role=button>Workshops</a>
</label>
<ul>
<li>
<a href=https://cccpun.github.io/vc/docs/workshops/optical_illusions/>Optical Illusions</a>
</li>
</ul>
</li>
</ul>
<ul>
<li>
<a href=/vc/posts/>
Blog
</a>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/vc/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>Foto Mosaico</strong>
<label for=toc-control>
<img src=/vc/svg/toc.svg class=book-icon alt="Table of Contents">
</label>
</div>
<aside class="hidden clearfix">
<nav id=TableOfContents>
<ul>
<li><a href=#conversión-de-la-imagen-a-un-foto-mosaico-por-hardware>Conversión de la imagen a un foto-mosaico por Hardware.</a>
<ul>
<li><a href=#idea-general>Idea general</a></li>
<li><a href=#pre-procesamineto>Pre procesamineto</a></li>
<li><a href=#creacion-del-mosaico>Creacion del mosaico</a></li>
<li><a href=#imagen-final-del-mosaico-flamenco>Imagen final del mosaico flamenco</a></li>
<li><a href=#imagen-mas-grande>Imagen mas grande</a></li>
</ul>
</li>
</ul>
</nav>
</aside>
</header>
<article class=markdown><h1 id=conversión-de-la-imagen-a-un-foto-mosaico-por-hardware>
Conversión de la imagen a un foto-mosaico por Hardware.
<a class=anchor href=#conversi%c3%b3n-de-la-imagen-a-un-foto-mosaico-por-hardware>#</a>
</h1>
<blockquote>
<p><a href=/docs/workshops/imaging-hardware>Volver</a></p>
</blockquote>
<h2 id=idea-general>
Idea general
<a class=anchor href=#idea-general>#</a>
</h2>
<p>La idea basica se basa de 2 pasos principalmente, un preprocesamiento de las imagenes y la creacion de la imagen.</p>
<p>En el pre procesamiento lo que se hace es crear una nueva imagen larga que contiene todas las imagenes que van a representar los colores.</p>
<p>En el proceso de creacion de imagen se toma el color que le correspondia a cada pixel y se busca la pieza que tiene el color promedio mas cercano al color de ese pixel y posteriormente se dibuja la pieza (imagen) que contiene ese pixel.</p>
<h2 id=pre-procesamineto>
Pre procesamineto
<a class=anchor href=#pre-procesamineto>#</a>
</h2>
<p>Lo primero que se hace es crear una imagen que se va encargar de tener todas las imagenes del tamaño de las piezas que va a estar creado el mosaico, para esto lo primero que se hace es que se cargan todas las imagenes y se hace un proceso muy parecido para la version sin hardware, se cargan todas las imagenes se calcula el valor promedio de cada imagen en caso de ser necesario y se guarda en un archivo esa informacion, pero a differencia de la version sin hardware ahora se crea una imagen que va a estar compuesta por todas las imagenes pero del tamaño de la pieza, es decir si la imagen era por ejemplo de tamaño 100x80 y el tamaño de la pieza del mosaico es de 10x10 entonces esa imagenes de 100x80 se reajusta a un tamaño de 10x10 y se agrega a la imagen que va a contener todas las imagenes, como se puede ver acontinuacion.</p>
<blockquote>
<p>:P5 sketch=/content/docs/shortcodes/Photomosaic/imaging-hardware/foto-mosaico/imagesp5.js, height=60</p>
</blockquote>
<div class="book-columns flex flex-wrap">
<div class="flex-even markdown-inner">
<link rel=stylesheet href=/vc/katex/katex.min.css>
<script defer src=/vc/katex/katex.min.js></script>
<script defer src=/vc/katex/auto-render.min.js onload=renderMathInElement(document.body)></script><span>
\[ error = | r^2 - x^2 - y^2 | \]
</span>
</div>
</div>
<iframe id=imagesp5 style=width:800px;height:600px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/vc/content/docs/shortcodes/Photomosaic/imaging-hardware/foto-mosaico/imagesp5.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe>
<p>Esto se hace ya que todos estos procesos son muy demorados pero independientes de la imagen que se va a representar en la imagen del mosaico, entonces se puede aprovechar ese hecho para hacer el pre calculo y luego poder utilizar esa informacion para crear diferentes mosaicos.</p>
<h2 id=creacion-del-mosaico>
Creacion del mosaico
<a class=anchor href=#creacion-del-mosaico>#</a>
</h2>
<p>Para crear el mosaico la idea basica es cargar todas las imagenes, luego se re dimenciona la imagen para ajustarla a la resolucion que se desea y a la cual cada pixel se le va a cambiar por una pieza(imagen) de las calculadas en el pre procesamiento, para realizar el proceso de cargar la imagen se hace uso del archivo .frag en donde se aprovecha el hecho de que se puede realizar en paralelo ya que un pixel siempre va a corresponder al mismo color y misma posicion de la imagen sin importar el orden en el que se haga siempre sera el mismo.</p>
<p>Despues haciendo uso de la funcion delta E se calcula la pieza que tiene un color promedio mas cercano al del pixel que va a representar haciendo uso de matematica se calcula la posicion del pixel en la imagen que se calculo en el pre procesamiento y se dibuja.</p>
<p>Para entender mejor como se calculan y dibujan las piezas hagamos un ejemplo. Supongamos que estamos dibujando el pixel en la posicion (10,12) con un tamaño de pieza de 8 y que el color promedio corresponde a la imagen numero 13 en el listado de imagenes.</p>
<p>Entonces para calcular ese pixel sabemos que debe estar en la imagen 13 entonces multiplicamos 13 _ tamaño de la pieza, en este caso 8, entonces tenemos 13 _ 8 = 104.</p>
<p>ahora estamos ubicados en la posicion exacta donde empieza esta imagen en pixeles, pero la posicion del pixel que vamos a dibujar es (10,12) entonces esta desplazado un poco, para calcula ese desplazamiento sacamos modulo de la posicion de la pieza, en este caso (10 mod 8, 12 mod 8) = (2,4), ahora lo unico que nos falta es sumarle la coordenada x para quedar en la posicion exacta de la pieza, en este caso le sumariamos (2+13 * 8,4) = (106,4) y listo ahora ya tenemos la posicion del pixel que queremos dibujar, lo unico que faltaria es dibujarlo.</p>
<div class="book-columns flex flex-wrap">
<div class="flex-even markdown-inner">
<span>
\[ error = | r^2 - x^2 - y^2 | \]
</span>
</div>
</div>
<iframe id=mosaic_hardware style=width:800px;height:600px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/vc/content/docs/shortcodes/Photomosaic/imaging-hardware/mosaic_hardware.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe>
<h2 id=imagen-final-del-mosaico-flamenco>
Imagen final del mosaico flamenco
<a class=anchor href=#imagen-final-del-mosaico-flamenco>#</a>
</h2>
<blockquote>
<p>:Tabs</p>
<blockquote>
<p>:Tab title=Result</p>
<blockquote>
<p>:P5 sketch=/content/docs/shortcodes/Photomosaic/maging-hardware/mosaic_hardware.js, width=512, height=512</p>
</blockquote>
</blockquote>
<blockquote>
<p>:Tab title=P5js</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>grayShader</span>;
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>shaderTexture</span>;

<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img</span>;
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>smaller</span>;

<span style=color:#75715e>//imagen con todas las piezas
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>images</span>;

<span style=color:#75715e>//arreglo de las piezas
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colors_img</span> <span style=color:#f92672>=</span> [];
<span style=color:#75715e>//arreglos con el color promedio de cada pieza
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colors_avg_img</span> <span style=color:#f92672>=</span> [];
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colors_avg_img2</span> <span style=color:#f92672>=</span> [];
<span style=color:#75715e>//cantidad de piezas
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>size_avg_img</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>173</span>;

<span style=color:#75715e>//tamaño de cada pieza
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>scale_img</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>15</span>;

<span style=color:#75715e>//pre procesamientos
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>create_img</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>create_new_img</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(
    <span style=color:#e6db74>&#34;/vc/content/docs/shortcodes/Photomosaic/imaging-hardware/foto-mosaico/lenna.jpg&#34;</span>
  );
  <span style=color:#a6e22e>images</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(
    <span style=color:#e6db74>&#34;/vc/content/docs/shortcodes/Photomosaic/imaging-hardware/foto-mosaico/images.png&#34;</span>
  );
  <span style=color:#a6e22e>grayShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadShader</span>(
    <span style=color:#e6db74>&#34;/vc/content/docs/shortcodes/Photomosaic/imaging-hardware/foto-mosaico/mosaic_hardware.vert&#34;</span>,
    <span style=color:#e6db74>&#34;/vc/content/docs/shortcodes/Photomosaic/imaging-hardware/foto-mosaico/mosaic_hardware.frag&#34;</span>
  );
  <span style=color:#a6e22e>preloadFilesColors</span>();
  <span style=color:#a6e22e>preloadAverageImg</span>();
}

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preloadFilesColors</span>() {
  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>dir_img</span> <span style=color:#f92672>=</span>
    <span style=color:#e6db74>&#34;/vc/content/docs/shortcodes/Photomosaic/imaging-hardware/foto-mosaico/images/colors/&#34;</span>;
  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>size_avg_img</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>curr_img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#a6e22e>dir_img</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;.jpg&#34;</span>);
    <span style=color:#a6e22e>colors_img</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>curr_img</span>);
  }
}

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>512</span>, <span style=color:#ae81ff>512</span>, <span style=color:#a6e22e>WEBGL</span>);
  <span style=color:#a6e22e>shaderTexture</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#ae81ff>512</span>, <span style=color:#ae81ff>512</span>, <span style=color:#a6e22e>WEBGL</span>);
  <span style=color:#a6e22e>shaderTexture</span>.<span style=color:#a6e22e>noStroke</span>();

  <span style=color:#75715e>//pre procesamiento
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>create_new_img</span>) {
    <span style=color:#a6e22e>create_long_img</span>();
  }

  <span style=color:#75715e>//pre procesamiento
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>create_img</span>) {
    <span style=color:#a6e22e>createImagesAverageColor</span>();
  }
  <span style=color:#a6e22e>loadAvgImg</span>();
  <span style=color:#a6e22e>noLoop</span>();
  <span style=color:#a6e22e>create_colors_avg_img2</span>();
}

<span style=color:#75715e>//Creamos todos los valores del color promedio en un arreglo, sin separalo para cada imagen
</span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>create_colors_avg_img2</span>() {
  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>curr</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>colors_avg_img</span>) {
    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>temp</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>curr</span>) {
      <span style=color:#a6e22e>colors_avg_img2</span>.<span style=color:#a6e22e>push</span>(<span style=color:#66d9ef>float</span>(<span style=color:#a6e22e>temp</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>0</span>));
    }
  }
}

<span style=color:#75715e>//Se crea la imagen larga que va a tener todas las piezas
</span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>create_long_img</span>() {
  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>to_show</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createImage</span>(<span style=color:#a6e22e>scale_img</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>colors_img</span>.<span style=color:#a6e22e>length</span>, <span style=color:#a6e22e>scale_img</span>);
  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>colors_img</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>load_closer</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colors_img</span>[<span style=color:#a6e22e>i</span>];
    <span style=color:#a6e22e>to_show</span>.<span style=color:#a6e22e>copy</span>(
      <span style=color:#a6e22e>load_closer</span>,
      <span style=color:#ae81ff>0</span>,
      <span style=color:#ae81ff>0</span>,
      <span style=color:#a6e22e>load_closer</span>.<span style=color:#a6e22e>width</span>,
      <span style=color:#a6e22e>load_closer</span>.<span style=color:#a6e22e>height</span>,
      <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scale_img</span>,
      <span style=color:#ae81ff>0</span>,
      <span style=color:#a6e22e>scale_img</span>,
      <span style=color:#a6e22e>scale_img</span>
    );
  }
  <span style=color:#a6e22e>to_show</span>.<span style=color:#a6e22e>save</span>(<span style=color:#e6db74>&#34;images&#34;</span>, <span style=color:#e6db74>&#34;png&#34;</span>);
}

<span style=color:#75715e>//pre procesamiento crear imagen con color promedio
</span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>createImagesAverageColor</span>() {
  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img_vrg_col</span> <span style=color:#f92672>=</span> [];
  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>im</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>im</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>colors_img</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>im</span><span style=color:#f92672>++</span>) {
    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>curr_img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colors_img</span>[<span style=color:#a6e22e>im</span>];
    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>curr_img</span>.<span style=color:#a6e22e>height</span>;
    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>curr_img</span>.<span style=color:#a6e22e>width</span>;

    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sum</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>];

    <span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>h</span>, <span style=color:#a6e22e>w</span>);

    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>w</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
      <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>h</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>curr</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>curr_img</span>.<span style=color:#a6e22e>get</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span>);
        <span style=color:#a6e22e>sum</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>curr</span>[<span style=color:#ae81ff>0</span>];
        <span style=color:#a6e22e>sum</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>curr</span>[<span style=color:#ae81ff>1</span>];
        <span style=color:#a6e22e>sum</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>+=</span> <span style=color:#a6e22e>curr</span>[<span style=color:#ae81ff>2</span>];
      }
    }
    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>total</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span>;
    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>avrg</span> <span style=color:#f92672>=</span> [
      Math.<span style=color:#a6e22e>round</span>(<span style=color:#a6e22e>sum</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>/</span> <span style=color:#a6e22e>total</span>),
      Math.<span style=color:#a6e22e>round</span>(<span style=color:#a6e22e>sum</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>/</span> <span style=color:#a6e22e>total</span>),
      Math.<span style=color:#a6e22e>round</span>(<span style=color:#a6e22e>sum</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>/</span> <span style=color:#a6e22e>total</span>),
    ];
    <span style=color:#75715e>// print(&#39;sum&#39;,sum)
</span><span style=color:#75715e></span>    <span style=color:#75715e>// print(&#39;avrg&#39;,avrg)
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>img_vrg_col</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>avrg</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>avrg</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>avrg</span>[<span style=color:#ae81ff>2</span>]);
    <span style=color:#a6e22e>print</span>(<span style=color:#e6db74>&#34;img &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>im</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; was created&#34;</span>);
  }
  <span style=color:#a6e22e>saveStrings</span>(<span style=color:#a6e22e>img_vrg_col</span>, <span style=color:#e6db74>&#34;img_vrg_col.txt&#34;</span>);
}

<span style=color:#75715e>//cargar informacion del color promedio de las imagenes en rgb
</span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preloadAverageImg</span>() {
  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>dir_txt</span> <span style=color:#f92672>=</span>
    <span style=color:#e6db74>&#34;/vc/content/docs/shortcodes/Photomosaic/imaging/foto-mosaico/images/img_vrg_col.txt&#34;</span>;
  <span style=color:#a6e22e>colors_avg_img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadStrings</span>(<span style=color:#a6e22e>dir_txt</span>);
}

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>loadAvgImg</span>() {
  <span style=color:#75715e>//print(colors_avg_img,colors_avg_img.length)
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>colors_avg_img</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colors_avg_img</span>[<span style=color:#a6e22e>i</span>];
    <span style=color:#a6e22e>colors_avg_img</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#34; &#34;</span>);
  }
  <span style=color:#a6e22e>colors_avg_img</span>.<span style=color:#a6e22e>pop</span>();
}

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
  <span style=color:#75715e>//en caso de que se quisiera reducir el tamaño de la imagen
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>reduce</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.0</span>;
  <span style=color:#75715e>//nuevo tamaño de la imagen despues de reducirla y decidir cual va a hacer el tamaño de las piezas
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>scale_img</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>reduce</span>;
  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>scale_img</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>reduce</span>;

  <span style=color:#75715e>//imagen pequeña a la que se le van a remplazar los pixeles por piezas para crear el mosaico
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>smaller</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createImage</span>(<span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>h</span>, <span style=color:#a6e22e>RGB</span>);
  <span style=color:#a6e22e>smaller</span>.<span style=color:#a6e22e>copy</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>h</span>);

  <span style=color:#a6e22e>smaller</span>.<span style=color:#a6e22e>loadPixels</span>();

  <span style=color:#a6e22e>shaderTexture</span>.<span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>grayShader</span>);
  <span style=color:#a6e22e>scale</span>(<span style=color:#ae81ff>1.0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1.0</span>);
  <span style=color:#75715e>//imagen pequeña a la que se le van a remplazar los pixeles por piezas para crear el mosaico
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>grayShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;u_img&#34;</span>, <span style=color:#a6e22e>smaller</span>);
  <span style=color:#a6e22e>grayShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;u_res_sm&#34;</span>, [
    <span style=color:#66d9ef>float</span>(<span style=color:#a6e22e>smaller</span>.<span style=color:#a6e22e>width</span>),
    <span style=color:#66d9ef>float</span>(<span style=color:#a6e22e>smaller</span>.<span style=color:#a6e22e>height</span>),
  ]);
  <span style=color:#75715e>//imagen que contiene todas las piezas
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>grayShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;images&#34;</span>, <span style=color:#a6e22e>images</span>);
  <span style=color:#75715e>//arreglo con el color promedio de cada pieza
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>grayShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;colors_avg_img&#34;</span>, <span style=color:#a6e22e>colors_avg_img2</span>);
  <span style=color:#75715e>//width y height de la imagen que contiene todas las piezas
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>grayShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;images_resolution&#34;</span>, [
    <span style=color:#66d9ef>float</span>(<span style=color:#a6e22e>scale_img</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>colors_img</span>.<span style=color:#a6e22e>length</span>),
    <span style=color:#66d9ef>float</span>(<span style=color:#a6e22e>scale_img</span>),
  ]);
  <span style=color:#a6e22e>grayShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;u_resolution&#34;</span>, [<span style=color:#66d9ef>float</span>(<span style=color:#a6e22e>width</span>), <span style=color:#66d9ef>float</span>(<span style=color:#a6e22e>height</span>)]);
  <span style=color:#a6e22e>grayShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;scale_img&#34;</span>, <span style=color:#66d9ef>int</span>(<span style=color:#a6e22e>scale_img</span>));

  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>shaderTexture</span>);
  <span style=color:#a6e22e>shaderTexture</span>.<span style=color:#a6e22e>rect</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>512</span>, <span style=color:#ae81ff>512</span>);
  <span style=color:#a6e22e>rect</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>256</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>512</span>, <span style=color:#ae81ff>512</span>);

  <span style=color:#75715e>//imagen para pequeña para tomar de referencia
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>temp</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createImage</span>(<span style=color:#a6e22e>w</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>h</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>RGB</span>);
  <span style=color:#a6e22e>temp</span>.<span style=color:#a6e22e>copy</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>w</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>h</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span>);
  <span style=color:#a6e22e>temp</span>.<span style=color:#a6e22e>loadPixels</span>();

  <span style=color:#a6e22e>scale</span>(<span style=color:#ae81ff>1.0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1.0</span>);
  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>temp</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>256</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>256</span>);

  <span style=color:#a6e22e>noLoop</span>();
  <span style=color:#a6e22e>print</span>(<span style=color:#e6db74>&#34;END&#34;</span>);
}
</code></pre></div></blockquote>
<blockquote>
<p>:Tab title=.vert</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-glsl data-lang=glsl><span style=color:#75715e>#ifdef GL_ES</span>
<span style=color:#66d9ef>precision</span> <span style=color:#66d9ef>mediump</span> <span style=color:#66d9ef>float</span>;
<span style=color:#75715e>#endif</span>

<span style=color:#66d9ef>attribute</span> <span style=color:#66d9ef>vec3</span> aPosition;
<span style=color:#66d9ef>attribute</span> <span style=color:#66d9ef>vec2</span> aTexCoord;

<span style=color:#66d9ef>varying</span> <span style=color:#66d9ef>vec2</span> vTexCoord;

<span style=color:#66d9ef>void</span> main() {
  vTexCoord <span style=color:#f92672>=</span> aTexCoord;

  <span style=color:#66d9ef>vec4</span> positionVec4 <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(aPosition, <span style=color:#ae81ff>1.0</span>);
  positionVec4.xy <span style=color:#f92672>=</span> positionVec4.xy <span style=color:#f92672>*</span> <span style=color:#ae81ff>2.0</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.0</span>;

  gl_Position <span style=color:#f92672>=</span> positionVec4;
}
</code></pre></div></blockquote>
<blockquote>
<p>:Tab title=.frag</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-glsl data-lang=glsl><span style=color:#75715e>#ifdef GL_ES</span>
<span style=color:#66d9ef>precision</span> <span style=color:#66d9ef>mediump</span> <span style=color:#66d9ef>float</span>;
<span style=color:#75715e>#endif</span>

<span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>sampler2D</span> u_img;
<span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>sampler2D</span> images;
<span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>sampler2D</span> smaller;

<span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec2</span> u_resolution;
<span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec2</span> u_res_sm;
<span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec2</span> images_resolution;

<span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec3</span> colors_avg_img[<span style=color:#ae81ff>173</span>];


<span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>int</span> scale_img;

<span style=color:#66d9ef>float</span> divisions <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.0</span>;

<span style=color:#75715e>//valor entre 0-1 que representa la posicion del pixel en la imange que contiene todas las piezas</span>
<span style=color:#66d9ef>vec2</span> pos_images(<span style=color:#66d9ef>int</span> pos,<span style=color:#66d9ef>vec2</span> original){
    <span style=color:#75715e>//calculo explicado en el articulo</span>
    <span style=color:#66d9ef>vec2</span> pos_pix <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#66d9ef>float</span>(pos<span style=color:#f92672>*</span>scale_img)<span style=color:#f92672>+</span>mod(<span style=color:#66d9ef>float</span>(original.x),<span style=color:#66d9ef>float</span>(scale_img)),mod(<span style=color:#66d9ef>float</span>(original.y),<span style=color:#66d9ef>float</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>&gt;</span> (scale_img)));
    <span style=color:#66d9ef>return</span> pos_pix<span style=color:#f92672>/</span>images_resolution;
}

<span style=color:#66d9ef>float</span> deltaE(<span style=color:#66d9ef>vec3</span> col1,<span style=color:#66d9ef>vec3</span> col2){
    <span style=color:#66d9ef>float</span> acum <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span>;
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>3</span>;i<span style=color:#f92672>++</span>){
        <span style=color:#66d9ef>float</span> temp <span style=color:#f92672>=</span> <span style=color:#66d9ef>float</span>(col1[i] <span style=color:#f92672>-</span> col2[i]);
        acum <span style=color:#f92672>+=</span> temp<span style=color:#f92672>*</span>temp;
    }
    <span style=color:#66d9ef>return</span> acum;<span style=color:#75715e>//sqrt(acum)</span>
}

<span style=color:#75715e>//Se encuentra la pieza que tiene el color mas cercano utilizando la funcion delta E</span>
<span style=color:#66d9ef>int</span> loadImageCloser(<span style=color:#66d9ef>vec3</span> col){
    <span style=color:#66d9ef>float</span> min <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>e8;
    <span style=color:#66d9ef>int</span> pos <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span><span style=color:#ae81ff>173</span>;i<span style=color:#f92672>++</span>){
        <span style=color:#66d9ef>float</span> de <span style=color:#f92672>=</span> deltaE(col<span style=color:#f92672>*</span><span style=color:#ae81ff>255.0</span>,colors_avg_img[i]);
        <span style=color:#66d9ef>if</span>(min<span style=color:#f92672>&gt;</span>de){
            min <span style=color:#f92672>=</span> de;
            pos <span style=color:#f92672>=</span> i;
        }
    }
    <span style=color:#66d9ef>return</span> pos;
}

<span style=color:#66d9ef>vec4</span> get_px(<span style=color:#66d9ef>int</span> pos,<span style=color:#66d9ef>vec2</span> original){
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>vec4</span>(texture2D(images,pos_images(pos,original)).rgb, <span style=color:#ae81ff>1</span>);<span style=color:#75715e>//calculo del color correspondiente, nos e usa &gt; &gt; transparencia</span>
}

<span style=color:#66d9ef>void</span> main() {
    <span style=color:#66d9ef>vec2</span> cord <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#66d9ef>int</span>(gl_FragCoord.x)<span style=color:#f92672>/</span>scale_img,<span style=color:#66d9ef>int</span>(gl_FragCoord.y)<span style=color:#f92672>/</span>scale_img);<span style=color:#75715e>//posicion a la que corresponde &gt; &gt; en la imagen pequeña</span>
    <span style=color:#66d9ef>vec2</span> position <span style=color:#f92672>=</span> cord<span style=color:#f92672>/</span>u_res_sm;<span style=color:#75715e>//Valor entre 0 y 1</span>
    <span style=color:#66d9ef>vec4</span> texel <span style=color:#f92672>=</span> texture2D(u_img,position);<span style=color:#75715e>//color en la imagen pequeña</span>
    <span style=color:#66d9ef>vec3</span> rgb_val <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec3</span>(texel[<span style=color:#ae81ff>0</span>],texel[<span style=color:#ae81ff>1</span>],texel[<span style=color:#ae81ff>2</span>]);
    <span style=color:#66d9ef>int</span> pxcol <span style=color:#f92672>=</span> loadImageCloser(rgb_val);<span style=color:#75715e>//posicion de la pieza a la que corresponde</span>

    gl_FragColor <span style=color:#f92672>=</span> get_px(pxcol,gl_FragCoord.xy);<span style=color:#75715e>//color del pixel en la piza correspondiente</span>
}
</code></pre></div></blockquote>
</blockquote>
<h2 id=imagen-mas-grande>
Imagen mas grande
<a class=anchor href=#imagen-mas-grande>#</a>
</h2>
<blockquote>
<p>:P5 sketch=/content/docs/shortcodes/Photomosaic/imaging-hardware/foto-mosaico/mosaic_hardware_big.js, width=768, height=768</p>
</blockquote>
</article>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
<div><a class="flex align-center" href=https://github.com/CCCPUN/vc/commit/cd3c2ddf2f3213219cfdc2d19f5d806c42d6df17 title="Last modified by mmedranom | February 7, 2022" target=_blank rel=noopener>
<img src=/vc/svg/calendar.svg class=book-icon alt=Calendar>
<span>February 7, 2022</span>
</a>
</div>
</div>
<script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>
</footer>
<div class=book-comments>
</div>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
<aside class=book-toc>
<div class=book-toc-content>
<nav id=TableOfContents>
<ul>
<li><a href=#conversión-de-la-imagen-a-un-foto-mosaico-por-hardware>Conversión de la imagen a un foto-mosaico por Hardware.</a>
<ul>
<li><a href=#idea-general>Idea general</a></li>
<li><a href=#pre-procesamineto>Pre procesamineto</a></li>
<li><a href=#creacion-del-mosaico>Creacion del mosaico</a></li>
<li><a href=#imagen-final-del-mosaico-flamenco>Imagen final del mosaico flamenco</a></li>
<li><a href=#imagen-mas-grande>Imagen mas grande</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</aside>
</main>
</body>
</html>